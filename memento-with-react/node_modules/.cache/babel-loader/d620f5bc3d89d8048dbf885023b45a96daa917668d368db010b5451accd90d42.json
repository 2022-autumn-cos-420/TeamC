{"ast":null,"code":"var _jsxFileName = \"/home/josh/Desktop/COS520/Mem/TeamC/memento-with-react/src/pages/components/Importcard.tsx\";\nimport React, { Component } from 'react';\nimport './Importcard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ImportCard extends Component {\n  constructor(props) {\n    super(props);\n    this.changeHandler = target => {\n      if (!target.currentTarget.files) {\n        return;\n      }\n      const reader = new FileReader();\n      reader.addEventListener('load', evt => {\n        if (reader.result) {\n          this.setState({\n            collection: this.props.parseInputs(reader.result, this.state.collection, \"\")\n          });\n        }\n      });\n      reader.readAsText(target.currentTarget.files[0]);\n    };\n    this.state = {\n      dragActive: false,\n      collection: this.props.collection\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileUpload\",\n        onChange: this.changeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.collection.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ImportCard;","map":{"version":3,"names":["React","Component","ImportCard","constructor","props","changeHandler","target","currentTarget","files","reader","FileReader","addEventListener","evt","result","setState","collection","parseInputs","state","readAsText","dragActive","render","length"],"sources":["/home/josh/Desktop/COS520/Mem/TeamC/memento-with-react/src/pages/components/Importcard.tsx"],"sourcesContent":["import React, {Component, ReactElement, useCallback, useState, ChangeEvent} from 'react';\nimport './Importcard.css';\nimport { Card } from \"../../interfaces/card\";\nimport { equal } from \"assert\";\nimport { exportCards, importCards } from '../../importExport';\n\ninterface Props {\n    collection: Card[],\n    parseInputs: (textInput: string, currentCollection: Card[], deckName: string) => Card[]\n}\ninterface State {\n    dragActive: boolean,\n    collection: Card[]\n}\nclass ImportCard extends Component<Props, State> {\n    constructor(props: Props) {\n        super(props)\n        this.state = {\n            dragActive: false,\n            collection: this.props.collection\n        }\n    };\n\n    // dragHandler = (event: React.DragEvent) => {\n    //     event.preventDefault();\n    //     event.stopPropagation();\n    //     if (event.type === \"dragenter\" || event.type === \"dragover\") {\n    //         this.setState({dragActive: true});\n    //     } else if (event.type === \"dragleave\") {\n    //         this.setState({dragActive: false});\n    //     }\n    // };\n\n    // dropHandler = (event: React.ChangeEvent) => {\n    //     event.preventDefault();\n    //     event.stopPropagation();\n    //     this.setState({dragActive: false});\n    //     // if (event.dataTransfer.files && event.dataTransfer.files[0]) {\n    //     //     //Handle files event.dataTransfer.files\n    //     //     console.log(\"File drop!\");\n    //     // }\n    // }\n\n    changeHandler = ( target: React.ChangeEvent<HTMLInputElement> ) => {\n        if (!target.currentTarget.files){\n            return\n        }\n        const reader = new FileReader();\n        reader.addEventListener('load', (evt) => {\n            if (reader.result) {\n                this.setState({collection: this.props.parseInputs(reader.result as string, this.state.collection, \"\")});\n            }\n        });\n      reader.readAsText(target.currentTarget.files[0]);\n    };\n\n\n    render() {\n        return (\n            <div>\n                {/* <div className=\"ImportCard\">\n                    <form id=\"form-file-upload\" onDragEnter={() => this.dragHandler} onSubmit={() => {}}></form>\n                    <div>Eventually you will drag files here!</div>\n                </div> */}\n                <input type=\"file\" id=\"fileUpload\" onChange={this.changeHandler} />                \n                <div>\n                    {this.state.collection.length}\n                </div>\n            </div>\n        )\n    }\n}\nexport default ImportCard;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAyD,OAAO;AACxF,OAAO,kBAAkB;AAAC;AAa1B,MAAMC,UAAU,SAASD,SAAS,CAAe;EAC7CE,WAAW,CAACC,KAAY,EAAE;IACtB,KAAK,CAACA,KAAK,CAAC;IAAA,KA2BhBC,aAAa,GAAKC,MAA2C,IAAM;MAC/D,IAAI,CAACA,MAAM,CAACC,aAAa,CAACC,KAAK,EAAC;QAC5B;MACJ;MACA,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,gBAAgB,CAAC,MAAM,EAAGC,GAAG,IAAK;QACrC,IAAIH,MAAM,CAACI,MAAM,EAAE;UACf,IAAI,CAACC,QAAQ,CAAC;YAACC,UAAU,EAAE,IAAI,CAACX,KAAK,CAACY,WAAW,CAACP,MAAM,CAACI,MAAM,EAAY,IAAI,CAACI,KAAK,CAACF,UAAU,EAAE,EAAE;UAAC,CAAC,CAAC;QAC3G;MACJ,CAAC,CAAC;MACJN,MAAM,CAACS,UAAU,CAACZ,MAAM,CAACC,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;IArCG,IAAI,CAACS,KAAK,GAAG;MACTE,UAAU,EAAE,KAAK;MACjBJ,UAAU,EAAE,IAAI,CAACX,KAAK,CAACW;IAC3B,CAAC;EACL;EAoCAK,MAAM,GAAG;IACL,oBACI;MAAA,wBAKI;QAAO,IAAI,EAAC,MAAM;QAAC,EAAE,EAAC,YAAY;QAAC,QAAQ,EAAE,IAAI,CAACf;MAAc;QAAA;QAAA;QAAA;MAAA,QAAG,eACnE;QAAA,UACK,IAAI,CAACY,KAAK,CAACF,UAAU,CAACM;MAAM;QAAA;QAAA;QAAA;MAAA,QAC3B;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ;EAEd;AACJ;AACA,eAAenB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}